# -*- coding: utf-8 -*-
"""Toronto MCI Analysis and Prediction Model

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1c-5q79ao1KXYh-v8oHVwo2fNzHEwd6HA
"""

# Import Required Libraries

!pip install pingouin

# Commented out IPython magic to ensure Python compatibility.
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
# %matplotlib inline
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import PolynomialFeatures
import folium
import calendar
from datetime import datetime
import pingouin as pg

# Load and Clean Data

data = pd.read_csv("Major_Crime_Indicators_Open_Data.csv")
data = data.iloc[1:500]

data.shape
data.describe()
data.info()
data.index
data.head()

# Check for duplicate and missing values
data.duplicated()
data.isna().sum().sort_values(ascending = False)

# Dealing with missing values
data = data.fillna(0)
data.isna().sum()

data.columns

# Convert to proper format
data['OCC_MONTH'] = data['OCC_MONTH'].astype(str)   # year and date formating is missing here because that was generating errors I couldn't resolve ....

data.index

# MCI Analysis

# # create groups of the columns
groups = data.groupby('REPORT_DATE')
groups.ngroups  # checking number of groups created

groups.groups

data.plot(kind='line', stacked=False, rot = 0, figsize=(10, 10))

